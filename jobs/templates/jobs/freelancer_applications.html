{% extends "base.html" %}
{% block content %}

<style>
    .app-card {
        background: white;
        padding: 20px;
        border-radius: 16px;
        box-shadow: 0 6px 16px rgba(0,0,0,0.08);
        transition: 0.25s ease;
    }
    .app-card:hover {
        transform: translateY(-4px);
    }

    .status-badge {
        padding: 6px 12px;
        border-radius: 999px;
        font-size: 12px;
        font-weight: 600;
    }

    .status-pending { background: #fff3cd; color: #8a6d3b; }
    .status-accepted { background: #d4edda; color: #155724; }
    .status-rejected { background: #f8d7da; color: #721c24; }

    .fade-in {
        animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(8px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>


<div class="container mt-4 fade-in">

    <h2 class="fw-bold mb-3">My Job Applications</h2>
    <p class="text-muted">Track the status of all the jobs you’ve applied for.</p>

    <hr>

    {% if applications %}
        <div class="row g-4 mt-2">
            {% for app in applications %}
                <div class="col-md-6">
                    <div class="app-card">

                        <h5 class="fw-bold">{{ app.job.title }}</h5>
                        <p class="text-muted mb-1">
                            {{ app.job.company }} · {{ app.job.location }}
                        </p>

                        <small class="text-muted">
                            Applied on {{ app.applied_at|date:"M d, Y" }}
                        </small>

                        <div class="mt-3">
                            {% if app.status == "pending" %}
                                <span class="status-badge status-pending">⏳ Pending</span>
                            {% elif app.status == "accepted" %}
                                <span class="status-badge status-accepted">✅ Accepted</span>
                            {% else %}
                                <span class="status-badge status-rejected">❌ Rejected</span>
                            {% endif %}
                        </div>

                        <div class="mt-3">
                            <a href="{% url 'job_detail' app.job.id %}"
                               class="btn btn-outline-primary btn-sm">
                                View Job
                            </a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

    {% else %}
        <div class="text-center mt-5">
            <p class="text-muted">You haven't applied to any jobs yet.</p>
            <a href="{% url 'job_list' %}" class="btn btn-primary">
                Browse Jobs
            </a>
        </div>
    {% endif %}

</div>

{% endblock %}
